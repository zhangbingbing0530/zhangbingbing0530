# 6_1 上线部署前的准备
本节将分享的是网站上线部署前的准备。

如果我们想让网站能够在任何连接互联网的地方，通过域名就能访问我们开发的网站，需要申请域名，购买服务器，去网管局备案，并且需要把网站部署到服务器。

## 申请域名
域名申请一般需要去DNS服务商，推荐去阿里云注册一个账号，登录成功后找到域名注册入口即可。

## 购买服务器
服务器有物理服务器或者虚拟的云服务器，除非公司很大，一般我们都购买云服务器，亚马逊云、阿里云、腾讯云、华为云等，笔者比较熟悉的是阿里云，注册成功后，找到购买入口购买即可，可以从最低配置开始，随时可以升降级。

## 网站备案
一般，购买大陆境内的服务器都需要到网管局备案，使用阿里云的整套方案的话比较方面，购买域名云服务器后，找到备案入口，按照文档说明进行操作和准备有关材料即可！


## 部署前静态文件的处理
在正式部署到线上环境前，通常我们需要对静态文件进行打包编译，去掉只是为了方便开发的一些代码，减少文件的数量和体积等，让网站访问速度更快，性能更好。

#### 为什么要减少文件数量和体积？
从优化请求静态资源文件的角度来说，加载多个文件会发出多次请求，为了解决这个问题，我们可以把多个文件合并成一个文件，还需要对文件进行打包压缩。

前端静态资源在发版更新时会面临客户端浏览器缓存的问题，解决这个问题可以采用两类方法：覆盖方法（引用资源时加版本号，不修改资源文件名）、非覆盖方法（修改资源文件名）。

#### 如何减少文件数量和体积？
目前主流的react 和 vue等主流前端框架，都会提供一个 简单的命令 npm run build 自动帮我们打包优化代码，对于我们的静态官网，需要我们自己从0去手工处理，去了解和掌握打包的基本内容和方法。

我们直接使用Linux命令进行处理，首先合并所有 css文件：
```
cat *.css > index.css
```
去掉空行：
```
grep -v '^$' index.css > app.css
```

去掉多余空格：
```
sed 's/__*/_/g' app.css
```

